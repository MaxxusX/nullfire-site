---
interface Props {};

console.log("requesting supported games...");
const response = await fetch("https://raw.githubusercontent.com/TeamNullFire/NullFire/refs/heads/main/games.json", {
	"method": "GET",
	"mode": "cors",
	"credentials": "omit",
	"cache": "no-cache",
	"referrer": "",
	"referrerPolicy": "no-referrer",
	"headers": {
		"Accept": "application/json,text/plain;q=0.9",
		"Cache-Control": "no-cache,max-age=0,stale-if-error",
		"Upgrade-Insecure-Requests": "1",
	},
});

if (!response.ok) throw new Error("request for supported games failed w/ " + response.status + ": " + response.statusText);

const json: { [index: string]: string } = await response.json();
const data: Array<[string, string]> = Object.entries(json);
console.log("successfully received supported games!");
---

<ul class="SupportedGames">
{data.map(([game, status]) => (
	<li><span>{game}</span>: <span>{status}</span></li>
))}
</ul>

<style is:global>
.SupportedGames {
	& > li > span:nth-of-type(1) {
		font-weight: bold;
	}
	& > li > span:nth-of-type(2) {
		font-style: italic;
	}
}
</style>
